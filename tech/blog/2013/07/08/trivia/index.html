
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Trivia - the Ephemeral Me</title>
  <meta name="author" content="">

  
  <meta name="description" content="There are many things that I find randomly on Internet that I want to remember.
Until I make an app to organize these bits of knowledge (wait, that might be a
worthy project in itself), I am going to store them here. iPython inside virtualenv &hellip;">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ephemeral.me/blog/2013/07/08/trivia/">
  <link href="/glider.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="the Ephemeral Me" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Sail' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,300,300italic' rel='stylesheet' type='text/css'>

  

  <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                  ga('create', 'UA-36548793-2', 'ephemeral.me');
                  ga('send', 'pageview');

  </script>
  

</head>

<body >
  <header role="banner"><hgroup>
  <h1><a href="/">the Ephemeral Me</a></h1>
  
    <h2>Just like life - we appear, we disappear. So important to some; but for some, just passing by.</h2>
  
  <div class="rightbuttons">
      <a href="http://www.github.com/sddhrthrt"><div class="button g">g</div></a>
      <a href="http://twitter.com/home?status=Interesting%20blog%20by%20@tweetingsid: worth checking out.  http://ephemeral.me - I liked it!" target="_blank"><div class="button t">t</div></a>
      <a href="mailto:sddhrthrt@gmail.com"><div class="button m">m</div></a>
  </div>
</hgroup>

</header>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Trivia</h1>
      
    
    
      <p class="meta">
       








  


<time datetime="2013-07-08T11:12:00+00:00" pubdate data-updated="true">Jul 8<span>th</span>, 2013</time> &middot; 

<span class="categories">
    in 
    <span class="tags">
  
    <a class='category' href='/blog/categories/technology/'>technology</a>, <a class='category' href='/blog/categories/trivia/'>trivia</a>
    
    </span>
</span>


      </p>
    
  </header>


<div class="entry-content"><p>There are many things that I find randomly on Internet that I want to remember.
Until I make an app to organize these bits of knowledge (wait, that might be a
worthy project in itself), I am going to store them here.</p>

<!-- more -->


<h2>iPython inside virtualenv</h2>

<p>Launching iPython inside virtualenv creates problems - it doesn&#8217;t obey the
restrictions placed by virtualenv about restricting itself inside the virtual
environment and tries to load packages from system library when you <code>import</code>
etc.</p>

<p>Here is how to launch it so it uses the correct Python version inside the
virtual environment, thanks to <a href="https://coderwall.com/p/xdox9a">Hatem Nassrat</a>.</p>

<figure class='code'><figcaption><span>alias for iPython inside virtualenv</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">alias </span><span class="nv">ipy</span><span class="o">=</span><span class="s2">&quot;python -c &#39;import IPython;</span>
</span><span class='line'><span class="s2">IPython.frontend.terminal.ipapp.launch_new_instance()&#39;&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>sudo -s</h2>

<p>Gives root access even if you dont have the <code>root</code> username access.
I dont know how this works, I&#8217;ll have to read up about it.</p>

<h2>NERDTree autoclose when file closed</h2>

<p><a href="https://github.com/scrooloose/nerdtree">NERDTree</a> by Martin Grefnell is easily
one of the most performance-increasing vim plugins, causing you to be highly
productive. While there are several options that can make your life with
NERDTree easy, there is one thing that&#8217;s not so straightforward.</p>

<p>When you close a file in vim, say there was NERDTree open in the side. It
remains open, and becomes the only open window in the vim instance, forcing you
to manually close that window too. While you <em>can</em> say <code>:wqa</code> and close all
windows, including NERDTree, you can also use this neat little trick to close
the NERDTree automatically on closing the last editor window:</p>

<figure class='code'><figcaption><span>put this in a single line in your ~/.vimrc</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>autocmd bufenter * <span class="k">if</span> <span class="o">(</span>winnr<span class="o">(</span><span class="s2">&quot;$&quot;</span><span class="o">)</span> <span class="o">==</span> 1 <span class="o">&amp;&amp;</span> exists<span class="o">(</span><span class="s2">&quot;b:NERDTreeType&quot;</span><span class="o">)</span> <span class="o">&amp;&amp;</span> b:NERDTreeType <span class="o">==</span> <span class="s2">&quot;primary&quot;</span><span class="o">)</span> | q | endif
</span></code></pre></td></tr></table></div></figure>


<h2>Tab in vim</h2>

<p>As followed by several programmers around the world, the best practices for
indenting code is, to have a 4-space tab. This makes code easy to read while not
causing too much indentation and as a result make it difficult to follow the
80-character width limit.</p>

<p>But vim&#8217;s default is a 8-space tab, and it&#8217;s not 8 spaces but a <code>\t</code> tab
character. To make this right, add this one line to your .vimrc:</p>

<figure class='code'><figcaption><span>put this in your ~/.vimrc</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">set </span><span class="nv">tabstop</span><span class="o">=</span>4 <span class="nv">shiftwidth</span><span class="o">=</span>4 expandtab
</span></code></pre></td></tr></table></div></figure>


<p>Obviously, here <code>expandtab</code> means split a tab into 4 spaces. <code>tabstop=4</code> makes
the tab&#8217;s width 4, while <code>shiftwidth=4</code> causes the automatically inserted
indentation to also have 4 spaces.</p>

<h2>Screen session names</h2>

<p>If you have a remote computer or if you connect to a remote computer, and use
screen over ssh, you might have noticed that it&#8217;s a pain to track multiple
screen sessions - you have to remember the <code>pid</code>s - and you have to often open
every session one by one.</p>

<p>Here is the easiest way to manage that -</p>

<p>To start a new session with a sessionname, just do</p>

<figure class='code'><figcaption><span>new session with name &#8220;webAdmin&#8221;</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>screen -S webAdmin
</span></code></pre></td></tr></table></div></figure>


<p>To edit an existing session&#8217;s name,</p>

<figure class='code'><figcaption><span>edit session name of current session</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>C-a :
</span><span class='line'>sessionname webAdmin
</span></code></pre></td></tr></table></div></figure>


<p>To list the existing screen sessions, you could</p>

<figure class='code'><figcaption><span>list sessions</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sddhrthrt@bellakki:~<span class="nv">$ </span>screen -list
</span><span class='line'>There are screens on:
</span><span class='line'>32090.blog      <span class="o">(</span>07/08/2013 11:26:26 AM<span class="o">)</span>        <span class="o">(</span>Detached<span class="o">)</span>
</span><span class='line'>8306.scrapy     <span class="o">(</span>06/19/2013 09:40:55 AM<span class="o">)</span>        <span class="o">(</span>Detached<span class="o">)</span>
</span><span class='line'>15387.meteor    <span class="o">(</span>06/10/2013 11:40:21 AM<span class="o">)</span>        <span class="o">(</span>Detached<span class="o">)</span>
</span><span class='line'>3 Sockets in /var/run/screen/S-sddhrthrt.
</span></code></pre></td></tr></table></div></figure>


<p>And finally, connect to either session by just:</p>

<figure class='code'><figcaption><span>reattach to the session named &#8220;scrapy&#8221; </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>screen -r scrapy
</span></code></pre></td></tr></table></div></figure>


<h2>Command line options parsing in Python</h2>

<p>Just wrote a command-line python script and want to spread the happiness to
others by passing it on? If your last hurdle to this is adding ability to take
command line options like those (cool) shell scripts, <a href="/blog/2013/07/16/option-parsing-in-python-scripts/">here is your solution</a>.</p>

<h2>Extract link URLs from a webpage</h2>

<p>How to extract all link URLs from a webpage? Here are two ways:</p>

<figure class='code'><figcaption><span>list all links</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>cat index.html |<span class="se">\</span>
</span><span class='line'>    grep -o <span class="s1">&#39;&lt;a .*href=.*&gt;&#39;</span> | <span class="se">\</span>
</span><span class='line'>    sed -e <span class="s1">&#39;s/&lt;a /\n&lt;a /g&#39;</span> | <span class="se">\</span>
</span><span class='line'>    sed -e <span class="s1">&#39;s/&lt;a .*href=[&#39;</span><span class="s2">&quot;&#39;&quot;</span><span class="s1">&#39;&quot;]//&#39;</span> -e <span class="s1">&#39;s/[&quot;&#39;</span><span class="s2">&quot;&#39;&quot;</span><span class="s1">&#39;].*$//&#39;</span> -e <span class="s1">&#39;/^$/ d&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Credits to
<a href="http://stackoverflow.com/questions/1881237/easiest-way-to-extract-the-urls-from-an-html-page-using-sed-or-awk-only">Crisboot</a>&#8217;s
answer to a question. Now I am not entirely sure about every step of the
command, and I&#8217;m still understanding bits of that hugeass regex, so dont ask me.
But hey, this is meant to a (sort of) cookbook, so dont be too serious, just
copy paste. :P</p>

<p>Oh and a better solution, although tied to lynx, is:</p>

<figure class='code'><figcaption><span>list all links</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>lynx -dump -listonly
</span></code></pre></td></tr></table></div></figure>


<h2>Ctrl-R backwards history search in z-shell</h2>

<p>Ever furiously tapped Ctrl-R in zsh hoping that reverse history search (the
awesome friend that helps when you forgot what magic command you used the last time)
and found it doesn&#8217;t work? Turns out it&#8217;s not bound to anything at all in vim
mode. So go to your <code>~/zshrc</code> and add this:</p>

<figure class='code'><figcaption><span>Ctrl-R search in zsh for reverse history search</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>bindkey <span class="s2">&quot;^R&quot;</span> <span class="nb">history</span>-incremental-search-backward
</span></code></pre></td></tr></table></div></figure>



</div>


  <footer>
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/blog/2013/05/07/screencasting-in-ubuntu-ultimate-solution/" title="Previous Post: Screencasting in Ubuntu - Ultimate Solution">&laquo; Screencasting in Ubuntu - Ultimate Solution</a>
      
      
      
        <a class="basic-alignment right articlenav" href="/blog/2013/07/16/option-parsing-in-python-scripts/" title="Next Post: Option parsing in Python scripts">Option parsing in Python scripts &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - 2016 -  -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress </a></span> (with my own Dark Granite theme)
</p>

</footer>
  


</body>
</html>
